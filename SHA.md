# :mortar_board: Secure Hash Algorithm
    криптографический алгоритм компьютерной безопасности

Алгоритм генерирует криптографический хэш ( «дайджест» )
 
Этот хэш является своего рода «сигнатурой» для текста или файла данных

Алгоритм SHA не является «шифрованием»

он не может быть расшифрован обратно к исходному тексту

это «односторонняя» криптографическая функция 

она возвращает цифровую подпись фиксированного размера для любого размера исходного текста

Создан Агентством национальной безопасности США

* SHA-0 - в 1993 году
* SHA-1 - в 1995 году
* SHA-2 - в 2002 году

    является частью стандарта цифровой подписи ( DSS )
***
## :mortar_board: SHA-1 

    генерирует почти уникальную 160-битную ( 20-байтную ) подпись для текста

:coffee:
    Например, для исходного текста:
```javascript
for ( var x of arr ) {
     console.log ( x )
}
```
криптографический хэш SHA-1 будет:

    15E84BC669EC1F264F68CF0329A3DE12788EBC7D

а  SHA-2 ( SHA256 ):

    B731057D4688C1BCE4E6D7213027AA5F9E30939456B222E4FFF74FA0CD399D4F

**git** широко использует хэши **SHA-1** в качестве идентификаторов и проверок согласованности

***

:link: [ Онлайн-генератор цифровой подписи SHA1](https://passwordsgenerator.net/sha1-hash-generator/)

:octocat: [ repo](https://github.com/emn178/js-sha1)

:link: [ Онлайн-генератор цифровой подписи SHA2](https://passwordsgenerator.net/sha256-hash-generator/)

### SHA256

Ссылка на скрипт:

https://cdn.rawgit.com/chrisveness/crypto/4e93a4d/sha256.js

```javascript
var hash = Sha256.hash ( text )
``` 

| [:coffee: :one:](https://garevna.github.io/js-samples/#07) |
|-|

### SHA384

Откройте пустое окно ( _blank_ )

В этом окне откройте **_Chrome DevTools_**

Создайте  фрагмент кода ( **snippet** ), как показано на [:movie_camera: видео](https://www.youtube.com/watch?v=xg9qsryE8Hk)

Вставьте следующий код сниппета:
```javascript
let script = document.createElement( 'script' )
script.src = 'https://garevna.github.io/js-samples/js/testSHA384.js'
script.crossOrigin = 'anonymous';
script.integrity = 'sha384-yXrIdlO1CBJknfDtCtDe2tmWWNl5xK30aTz62nLkEpEIBRD3OGi7+To7hfKRaUZ/'
document.head.appendChild( script )
```

# :mortar_board: integrity

**_Subresource Integrity_** ( **SRI** ) - это функция безопасности, которая позволяет браузерам проверять файлы, загружаемые из внешних источников ( например, из CDN )

Если файл был изменен, то значение атрибута  **`integrity`** ( цифровой подписи файла ) не будет соответствовать новому значению, вычисленному браузером, и загрузка поврежденного файла не произойдет

Для генерации дайджестов файлов используйте [:link: сервис](https://www.srihash.org/)

    Вставьте ссылку на файл в сети

    Нажмите  кнопку   Hash!

    Полученный тег скрипта содержит атрибут **`integrity`**

    Скопируйте значение атрибута **`integrity`**

    Теперь вы сможете использовать его при динамической загрузке скриптов

## :briefcase: Самостоятельная работа
Посмотрите код [:coffee: примера](garevna.github.io) в отладчике

Установите **`breakpoints`**
С помощью **`Watch`** отслеживайте, как изменяются значения массива  **users** и переменной **user**

Задание:

* Создайте форму регистрации пользователя
* Создайте страницу для зарегистрированных пользователей

    При регистрации пользователя должен генерироваться дайджест, который будет ключом записи в базе данных
```javascript
users = [
        {
                key: a42caea01469a4687fb8713dc1748a0d14adec7f307371f82382812142ee2c58,
                name: "Иван",
                email: "ivan.petrenko@gmail.com",
                avatar: "https://imgur.com/I80W1Q0.png"
        },
        {
                key: b7d20c2dc6cb3e4bcde90f80598e369ab3d1841d799039dfd06f86221af10fd8,
                name: "Mary",
                email: "mary789@gmail.com",
                avatar: "https://raw.githubusercontent.com/fangpenlin/avataaars/HEAD/avataaars-example.png"
        },
        ...
]
```
Создайте форму для входа пользователя

После ввода _email_ нужно найти пользователя с таким _**email**_ и запросить пароль

После ввода пароля должен быть сгенерирован дайджест, который будет проверяться на совпадение со значением **key**
найденного пользователя

Если значения не совпадут, нужно вывести предупреждение

Если значения совпали, то перейти на страницу для зарегистрированных пользователей 

На странице для зарегистрированных пользователей должно быть выведено имя пользователя и его аватар